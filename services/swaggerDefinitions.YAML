openapi: '3.0.0'
info:
  title: 'IntelliQ-BE API'
  description: 'This is the IntelliQ-BE API documentation for the IntelliQ-BE API.'
  version: 3.1.2

servers:
  - url: https://intelliq-be.azurewebsites.net/
    description: 'Production server'
  - url: http://localhost:3000/
    description: 'Development server'


paths:
  /api/welcome:
    get:
      tags:
        - General
      summary: 'Welcome endpoint'
      description: 'Returns a welcome message'
      responses:
        200:
          description: 'Welcome to the IntelliQ-BE API'
          schema:
            type: string
            example: 'Welcome to the IntelliQ-BE API'
  /api/signup:
    post:
      tags:
        - User
      summary: 'Create User Endpoint'
      description: 'The user needs to sign up before being able to use the App.'
      operationId: 'registerUser'
      consumes:
        - 'application/json'
      produces:
        - 'application/json'
      parameters:
        - in: 'body'
          name: 'body'
          description: 'User details for registration'
          required: true
          schema:
            type: object
            properties:
              email:
                type: string
                description: 'Email for the new user'
              password:
                type: string
                description: 'Password for the new user'
            example:
              email: 'newUser@user.com'
              password: 'newPassword'
      responses:
        200:
          description: 'Returns user auth data'
  /api/signin:
    post:
      tags:
        - User
      summary: 'Get User Access Token Endpoint'
      description: 'The user needs to sign in after one hour before being able to use the App.'
      operationId: 'loginUser'
      consumes:
        - 'application/json'
      produces:
        - 'application/json'
      parameters:
        - in: 'body'
          name: 'body'
          description: 'User details for logging in'
          required: true
          schema:
            type: object
            properties:
              email:
                type: string
                description: 'Email for an existing user'
              password:
                type: string
                description: 'Password for an existing user'
            example:
              email: 'newUser@user.com'
              password: 'newPassword'
      responses:
        200:
          description: 'Returns userID, email, sesstionToken'
  /api/quiz:
    post:
      security:
        - BearerAuth: []
      tags:
        - Quizzes
      summary: 'Get a custom quiz'
      description: 'This endpoint returns a number of quiz questions targeted to user interests.'
      parameters:
        - in: 'query'
          name: 'numberOfQuestions'
          required: true
          type: 'integer'
        - in: 'query'
          name: 'interests'
          required: true
          type: 'string'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'array'
            items:
              type: 'object'
              properties:
                id:
                  type: 'integer'
                questions:
                  type: 'array'
                  items:
                    type: 'object'
                    properties:
                      text:
                        type: 'string'
                      options:
                        type: 'array'
                        items:
                          type: 'string'
                      correctAnswer:
                        type: 'string'

  /api/quiz/formula-one:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about formula one'
      description: 'This endpoint returns 4 quiz questions about Formula One'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'
  /api/quiz/anime:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about anime'
      description: 'This endpoint returns 4 quiz questions about Anime'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'
  /api/quiz/js:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about javascript'
      description: 'This endpoint returns 4 quiz questions about JavaScript'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'
  /api/quiz/gaming:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about gaming'
      description: 'This endpoint returns 4 quiz questions about Gaming'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'
  /api/quiz/css:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about css'
      description: 'This endpoint returns 4 quiz questions about CSS'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'
  /api/quiz/agile:
    get:
      tags:
        - Quizzes
      summary: 'Get a quiz about Agile Management'
      description: 'This endpoint returns 4 quiz questions about Agile Management'
      responses:
        200:
          description: 'Successful operation'
          schema:
            type: 'object'
            properties:
              questions:
                type: 'array'
                items:
                  type: 'object'
                  properties:
                    text:
                      type: 'string'
                    options:
                      type: 'array'
                      items:
                        type: 'string'
                    correctAnswer:
                      type: 'string'